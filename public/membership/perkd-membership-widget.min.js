var app=function(){"use strict";function t(){}function e(t,e){for(const n in e)t[n]=e[n];return t}function n(t){return t()}function r(){return Object.create(null)}function o(t){t.forEach(n)}function s(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function a(t,n,r,o){return t[1]&&o?e(r.ctx.slice(),t[1](o(n))):r.ctx}function c(t,e,n,r,o,s,i){const c=function(t,e,n,r){if(t[2]&&r){const o=t[2](r(n));if(void 0===e.dirty)return o;if("object"==typeof o){const t=[],n=Math.max(e.dirty.length,o.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|o[r];return t}return e.dirty|o}return e.dirty}(e,r,o,s);if(c){const o=a(e,n,r,i);t.p(o,c)}}function u(t){const e={};for(const n in t)"$"!==n[0]&&(e[n]=t[n]);return e}function h(t,e){t.appendChild(e)}function l(t,e,n){t.insertBefore(e,n||null)}function p(t){t.parentNode.removeChild(t)}function d(t){return document.createElement(t)}function f(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function m(t){return document.createTextNode(t)}function g(){return m(" ")}function y(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function b(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function v(t,e){for(const n in e)b(t,n,e[n])}function w(t){return Array.from(t.childNodes)}function C(t,e,n,r){for(let r=0;r<t.length;r+=1){const o=t[r];if(o.nodeName===e){let e=0;const s=[];for(;e<o.attributes.length;){const t=o.attributes[e++];n[t.name]||s.push(t.name)}for(let t=0;t<s.length;t++)o.removeAttribute(s[t]);return t.splice(r,1)[0]}}return r?f(e):d(e)}function k(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function x(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}let _;function E(t){_=t}function T(){if(!_)throw new Error("Function called outside component initialization");return _}function $(){const t=T();return(e,n)=>{const r=t.$$.callbacks[e];if(r){const o=function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(e,n);r.slice().forEach((e=>{e.call(t,o)}))}}}const S=[],A=[],B=[],O=[],N=Promise.resolve();let R=!1;function j(t){B.push(t)}let P=!1;const L=new Set;function F(){if(!P){P=!0;do{for(let t=0;t<S.length;t+=1){const e=S[t];E(e),M(e.$$)}for(E(null),S.length=0;A.length;)A.pop()();for(let t=0;t<B.length;t+=1){const e=B[t];L.has(e)||(L.add(e),e())}B.length=0}while(S.length);for(;O.length;)O.pop()();R=!1,P=!1,L.clear()}}function M(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(j)}}const I=new Set;let q;function D(t,e){t&&t.i&&(I.delete(t),t.i(e))}function U(t,e,n,r){if(t&&t.o){if(I.has(t))return;I.add(t),q.c.push((()=>{I.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}function V(t,e){const n={},r={},o={$$scope:1};let s=t.length;for(;s--;){const i=t[s],a=e[s];if(a){for(const t in i)t in a||(r[t]=1);for(const t in a)o[t]||(n[t]=a[t],o[t]=1);t[s]=a}else for(const t in i)o[t]=1}for(const t in r)t in n||(n[t]=void 0);return n}function H(t){t&&t.c()}function z(t,e,r,i){const{fragment:a,on_mount:c,on_destroy:u,after_update:h}=t.$$;a&&a.m(e,r),i||j((()=>{const e=c.map(n).filter(s);u?u.push(...e):o(e),t.$$.on_mount=[]})),h.forEach(j)}function X(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function K(t,e){-1===t.$$.dirty[0]&&(S.push(t),R||(R=!0,N.then(F)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Y(e,n,s,i,a,c,u=[-1]){const h=_;E(e);const l=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:a,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(h?h.$$.context:n.context||[]),callbacks:r(),dirty:u,skip_bound:!1};let d=!1;if(l.ctx=s?s(e,n.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return l.ctx&&a(l.ctx[t],l.ctx[t]=o)&&(!l.skip_bound&&l.bound[t]&&l.bound[t](o),d&&K(e,t)),n})):[],l.update(),d=!0,o(l.before_update),l.fragment=!!i&&i(l.ctx),n.target){if(n.hydrate){const t=w(n.target);l.fragment&&l.fragment.l(t),t.forEach(p)}else l.fragment&&l.fragment.c();n.intro&&D(e.$$.fragment),z(e,n.target,n.anchor,n.customElement),F()}E(h)}class W{$destroy(){X(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function J(e){let n,r,o;return{c(){n=d("div"),r=m("1"),b(n,"class",o="badge bg-red-500 text-white flex items-center justify-center shadow-md "+(e[0]?"visible":"hidden")+" svelte-f1200t")},m(t,e){l(t,n,e),h(n,r)},p(t,[e]){1&e&&o!==(o="badge bg-red-500 text-white flex items-center justify-center shadow-md "+(t[0]?"visible":"hidden")+" svelte-f1200t")&&b(n,"class",o)},i:t,o:t,d(t){t&&p(n)}}}function G(t,e,n){let{show:r=!1}=e;return t.$$set=t=>{"show"in t&&n(0,r=t.show)},[r]}class Z extends W{constructor(t){super(),Y(this,t,G,J,i,{show:0})}}function Q(n){let r,o,s=[{width:"20"},{height:"20"},{viewBox:"0 0 20 20"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},n[0]],i={};for(let t=0;t<s.length;t+=1)i=e(i,s[t]);return{c(){r=f("svg"),o=f("path"),this.h()},l(t){r=C(t,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0},1);var e=w(r);o=C(e,"path",{d:!0,fill:!0},1),w(o).forEach(p),e.forEach(p),this.h()},h(){b(o,"d","M11.7673 9.99978L19.6335 2.13355C19.8679 1.89917 19.9996 1.58128 19.9996 1.24981C19.9996 0.918338 19.8679 0.600445 19.6335 0.36606C19.3991 0.131676 19.0812 0 18.7498 0C18.4183 0 18.1004 0.131676 17.866 0.36606L9.99978 8.23229L2.13355 0.36606C2.0175 0.250005 1.87972 0.157945 1.72809 0.0951362C1.57645 0.0323275 1.41393 0 1.24981 0C1.08568 0 0.923161 0.0323275 0.771527 0.0951362C0.619893 0.157945 0.482116 0.250005 0.36606 0.36606C0.131676 0.600445 0 0.918338 0 1.24981C0 1.58128 0.131676 1.89917 0.36606 2.13355L8.23229 9.99978L0.36606 17.866C0.131676 18.1004 0 18.4183 0 18.7498C0 19.0812 0.131676 19.3991 0.36606 19.6335C0.600445 19.8679 0.918338 19.9996 1.24981 19.9996C1.58128 19.9996 1.89917 19.8679 2.13355 19.6335L9.99978 11.7673L17.866 19.6335C17.9818 19.75 18.1195 19.8424 18.2712 19.9055C18.4229 19.9686 18.5855 20.001 18.7498 20.001C18.914 20.001 19.0767 19.9686 19.2283 19.9055C19.38 19.8424 19.5177 19.75 19.6335 19.6335C19.7497 19.5175 19.8419 19.3798 19.9047 19.2281C19.9676 19.0765 20 18.9139 20 18.7498C20 18.5856 19.9676 18.423 19.9047 18.2714C19.8419 18.1197 19.7497 17.982 19.6335 17.866L11.7673 9.99978Z"),b(o,"fill","#000000"),v(r,i)},m(t,e){l(t,r,e),h(r,o)},p(t,[e]){v(r,i=V(s,[{width:"20"},{height:"20"},{viewBox:"0 0 20 20"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},1&e&&t[0]]))},i:t,o:t,d(t){t&&p(r)}}}function tt(t,n,r){return t.$$set=t=>{r(0,n=e(e({},n),u(t)))},[n=u(n)]}class et extends W{constructor(t){super(),Y(this,t,tt,Q,i,{})}}function nt(e){let n,r,o,s;return{c(){n=d("div"),r=d("div"),o=d("p"),s=m(e[0]),b(o,"class","svelte-nlzyr"),b(r,"class","leading-5 pointer-events-none select-none"),b(n,"class","flex flex-col relative")},m(t,e){l(t,n,e),h(n,r),h(r,o),h(o,s)},p(t,[e]){1&e&&k(s,t[0])},i:t,o:t,d(t){t&&p(n)}}}function rt(t,e,n){let{title:r=""}=e;return t.$$set=t=>{"title"in t&&n(0,r=t.title)},[r]}class ot extends W{constructor(t){super(),Y(this,t,rt,nt,i,{title:0})}}function st(t){let e,n,r,o,s,i,u,f,m,v;n=new ot({props:{title:t[0]}}),i=new et({props:{width:"12",class:"cursor-pointer opacity-20 hover:opacity-90"}});const w=t[4].default,C=function(t,e,n,r){if(t){const o=a(t,e,n,r);return t[0](o)}}(w,t,t[3],null);return{c(){e=d("div"),H(n.$$.fragment),r=g(),o=d("div"),s=d("button"),H(i.$$.fragment),u=g(),C&&C.c(),b(s,"class","px-2 py-1 focus:outline-none rounded-sm hover:bg-gray-100 items-center justify-center flex"),b(o,"class","absolute"),x(o,"top","8px"),x(o,"right","8px"),b(e,"class","perkd-membership-widget__notification justify-items-start border-gray-200 px-6 py-5 mr-4 shadow-lg h-full rounded-xl bg-gray-50 w-2/3 z-20 svelte-4ba36w")},m(a,c){l(a,e,c),z(n,e,null),h(e,r),h(e,o),h(o,s),z(i,s,null),h(e,u),C&&C.m(e,null),f=!0,m||(v=y(s,"click",t[5]),m=!0)},p(t,[e]){const r={};1&e&&(r.title=t[0]),n.$set(r),C&&C.p&&(!f||8&e)&&c(C,w,t,t[3],e,null,null)},i(t){f||(D(n.$$.fragment,t),D(i.$$.fragment,t),D(C,t),f=!0)},o(t){U(n.$$.fragment,t),U(i.$$.fragment,t),U(C,t),f=!1},d(t){t&&p(e),X(n),X(i),C&&C.d(t),m=!1,v()}}}function it(t,e,n){let r,{$$slots:o={},$$scope:s}=e,{type:i=null}=e;const a=$();return t.$$set=t=>{"type"in t&&n(2,i=t.type),"$$scope"in t&&n(3,s=t.$$scope)},t.$$.update=()=>{4&t.$$.dirty&&n(0,r="progress"===i?"Your progress":"Join our Membership Program!")},[r,a,i,s,o,()=>a("dismiss")]}class at extends W{constructor(t){super(),Y(this,t,it,st,i,{type:2})}}function ct(e){let n,r,o,s,i;return{c(){n=d("div"),n.innerHTML='<p class="svelte-12e6c8u">Create an account,  start shopping, and\n\t\tqualify for Membership Program!</p> \n\n\t\t<p class="pt-2 svelte-12e6c8u">Exclusive Members-only products and\n\tdiscounts awaits!</p>',r=g(),o=d("hr"),s=g(),i=d("div"),i.innerHTML='<a href="/account/login" class="outline-none focus:outline-none rounded-md shadow-md py-2 px-6\n\t\t\t\tbg-orange-dark mb-2 font-medium" style="color: white; font-size: .9rem;">Create an account</a> \n\t\t<span class="text-gray-800" style="font-size: .8rem;">Already have an account? <a href="/account/register" class="text-shopify-interactive font-semibold">Sign in</a></span>',b(n,"class","notification__body my-3 text-sm text-shopify-subdued svelte-12e6c8u"),b(i,"class","mt-1 flex flex-col justify-center items-center pt-2")},m(t,e){l(t,n,e),l(t,r,e),l(t,o,e),l(t,s,e),l(t,i,e)},p:t,i:t,o:t,d(t){t&&p(n),t&&p(r),t&&p(o),t&&p(s),t&&p(i)}}}class ut extends W{constructor(t){super(),Y(this,t,null,ct,i,{})}}function ht(e){let n,r,o,s,i,a,c,u,f;return{c(){n=d("div"),r=d("p"),o=m("Spend $"),s=m(e[0]),i=m(" to qualify for "),a=m(e[1]),c=m("!"),u=g(),f=d("p"),f.textContent="Exclusive Members-only products and\n\tdiscounts awaits!",b(r,"class","svelte-12e6c8u"),b(f,"class","pt-2 svelte-12e6c8u"),b(n,"class","notification__body my-3 text-sm text-shopify-subdued  svelte-12e6c8u")},m(t,e){l(t,n,e),h(n,r),h(r,o),h(r,s),h(r,i),h(r,a),h(r,c),h(n,u),h(n,f)},p(t,[e]){1&e&&k(s,t[0]),2&e&&k(a,t[1])},i:t,o:t,d(t){t&&p(n)}}}function lt(t,e,n){let{amountToNextTier:r=0}=e,{nextTier:o="X Tier"}=e;return t.$$set=t=>{"amountToNextTier"in t&&n(0,r=t.amountToNextTier),"nextTier"in t&&n(1,o=t.nextTier)},[r,o]}class pt extends W{constructor(t){super(),Y(this,t,lt,ht,i,{amountToNextTier:0,nextTier:1})}}function dt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ft(t){var e={exports:{}};return t(e,e.exports),e.exports}var mt=ft((function(t){!function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&n.rotl(t,8)|4278255360&n.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=n.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],n=0,r=0;n<t.length;n++,r+=8)e[r>>>5]|=t[n]<<24-r%32;return e},wordsToBytes:function(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e},bytesToHex:function(t){for(var e=[],n=0;n<t.length;n++)e.push((t[n]>>>4).toString(16)),e.push((15&t[n]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(parseInt(t.substr(n,2),16));return e},bytesToBase64:function(t){for(var n=[],r=0;r<t.length;r+=3)for(var o=t[r]<<16|t[r+1]<<8|t[r+2],s=0;s<4;s++)8*r+6*s<=8*t.length?n.push(e.charAt(o>>>6*(3-s)&63)):n.push("=");return n.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,o=0;r<t.length;o=++r%4)0!=o&&n.push((e.indexOf(t.charAt(r-1))&Math.pow(2,-2*o+8)-1)<<2*o|e.indexOf(t.charAt(r))>>>6-2*o);return n}};t.exports=n}()})),gt={utf8:{stringToBytes:function(t){return gt.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(gt.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e},bytesToString:function(t){for(var e=[],n=0;n<t.length;n++)e.push(String.fromCharCode(t[n]));return e.join("")}}},yt=gt,bt=function(t){return null!=t&&(vt(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&vt(t.slice(0,0))}(t)||!!t._isBuffer)};function vt(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}var wt=ft((function(t){!function(){var e=mt,n=yt.utf8,r=bt,o=yt.bin,s=function(t,i){t.constructor==String?t=i&&"binary"===i.encoding?o.stringToBytes(t):n.stringToBytes(t):r(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||t.constructor===Uint8Array||(t=t.toString());for(var a=e.bytesToWords(t),c=8*t.length,u=1732584193,h=-271733879,l=-1732584194,p=271733878,d=0;d<a.length;d++)a[d]=16711935&(a[d]<<8|a[d]>>>24)|4278255360&(a[d]<<24|a[d]>>>8);a[c>>>5]|=128<<c%32,a[14+(c+64>>>9<<4)]=c;var f=s._ff,m=s._gg,g=s._hh,y=s._ii;for(d=0;d<a.length;d+=16){var b=u,v=h,w=l,C=p;u=f(u,h,l,p,a[d+0],7,-680876936),p=f(p,u,h,l,a[d+1],12,-389564586),l=f(l,p,u,h,a[d+2],17,606105819),h=f(h,l,p,u,a[d+3],22,-1044525330),u=f(u,h,l,p,a[d+4],7,-176418897),p=f(p,u,h,l,a[d+5],12,1200080426),l=f(l,p,u,h,a[d+6],17,-1473231341),h=f(h,l,p,u,a[d+7],22,-45705983),u=f(u,h,l,p,a[d+8],7,1770035416),p=f(p,u,h,l,a[d+9],12,-1958414417),l=f(l,p,u,h,a[d+10],17,-42063),h=f(h,l,p,u,a[d+11],22,-1990404162),u=f(u,h,l,p,a[d+12],7,1804603682),p=f(p,u,h,l,a[d+13],12,-40341101),l=f(l,p,u,h,a[d+14],17,-1502002290),u=m(u,h=f(h,l,p,u,a[d+15],22,1236535329),l,p,a[d+1],5,-165796510),p=m(p,u,h,l,a[d+6],9,-1069501632),l=m(l,p,u,h,a[d+11],14,643717713),h=m(h,l,p,u,a[d+0],20,-373897302),u=m(u,h,l,p,a[d+5],5,-701558691),p=m(p,u,h,l,a[d+10],9,38016083),l=m(l,p,u,h,a[d+15],14,-660478335),h=m(h,l,p,u,a[d+4],20,-405537848),u=m(u,h,l,p,a[d+9],5,568446438),p=m(p,u,h,l,a[d+14],9,-1019803690),l=m(l,p,u,h,a[d+3],14,-187363961),h=m(h,l,p,u,a[d+8],20,1163531501),u=m(u,h,l,p,a[d+13],5,-1444681467),p=m(p,u,h,l,a[d+2],9,-51403784),l=m(l,p,u,h,a[d+7],14,1735328473),u=g(u,h=m(h,l,p,u,a[d+12],20,-1926607734),l,p,a[d+5],4,-378558),p=g(p,u,h,l,a[d+8],11,-2022574463),l=g(l,p,u,h,a[d+11],16,1839030562),h=g(h,l,p,u,a[d+14],23,-35309556),u=g(u,h,l,p,a[d+1],4,-1530992060),p=g(p,u,h,l,a[d+4],11,1272893353),l=g(l,p,u,h,a[d+7],16,-155497632),h=g(h,l,p,u,a[d+10],23,-1094730640),u=g(u,h,l,p,a[d+13],4,681279174),p=g(p,u,h,l,a[d+0],11,-358537222),l=g(l,p,u,h,a[d+3],16,-722521979),h=g(h,l,p,u,a[d+6],23,76029189),u=g(u,h,l,p,a[d+9],4,-640364487),p=g(p,u,h,l,a[d+12],11,-421815835),l=g(l,p,u,h,a[d+15],16,530742520),u=y(u,h=g(h,l,p,u,a[d+2],23,-995338651),l,p,a[d+0],6,-198630844),p=y(p,u,h,l,a[d+7],10,1126891415),l=y(l,p,u,h,a[d+14],15,-1416354905),h=y(h,l,p,u,a[d+5],21,-57434055),u=y(u,h,l,p,a[d+12],6,1700485571),p=y(p,u,h,l,a[d+3],10,-1894986606),l=y(l,p,u,h,a[d+10],15,-1051523),h=y(h,l,p,u,a[d+1],21,-2054922799),u=y(u,h,l,p,a[d+8],6,1873313359),p=y(p,u,h,l,a[d+15],10,-30611744),l=y(l,p,u,h,a[d+6],15,-1560198380),h=y(h,l,p,u,a[d+13],21,1309151649),u=y(u,h,l,p,a[d+4],6,-145523070),p=y(p,u,h,l,a[d+11],10,-1120210379),l=y(l,p,u,h,a[d+2],15,718787259),h=y(h,l,p,u,a[d+9],21,-343485551),u=u+b>>>0,h=h+v>>>0,l=l+w>>>0,p=p+C>>>0}return e.endian([u,h,l,p])};s._ff=function(t,e,n,r,o,s,i){var a=t+(e&n|~e&r)+(o>>>0)+i;return(a<<s|a>>>32-s)+e},s._gg=function(t,e,n,r,o,s,i){var a=t+(e&r|n&~r)+(o>>>0)+i;return(a<<s|a>>>32-s)+e},s._hh=function(t,e,n,r,o,s,i){var a=t+(e^n^r)+(o>>>0)+i;return(a<<s|a>>>32-s)+e},s._ii=function(t,e,n,r,o,s,i){var a=t+(n^(e|~r))+(o>>>0)+i;return(a<<s|a>>>32-s)+e},s._blocksize=16,s._digestsize=16,t.exports=function(t,n){if(null==t)throw new Error("Illegal argument "+t);var r=e.wordsToBytes(s(t,n));return n&&n.asBytes?r:n&&n.asString?o.bytesToString(r):e.bytesToHex(r)}}()})),Ct=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,kt=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],xt=function(t){var e=t,n=t.indexOf("["),r=t.indexOf("]");-1!=n&&-1!=r&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));for(var o,s,i=Ct.exec(t||""),a={},c=14;c--;)a[kt[c]]=i[c]||"";return-1!=n&&-1!=r&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=function(t,e){var n=/\/{2,9}/g,r=e.replace(n,"/").split("/");"/"!=e.substr(0,1)&&0!==e.length||r.splice(0,1);"/"==e.substr(e.length-1,1)&&r.splice(r.length-1,1);return r}(0,a.path),a.queryKey=(o=a.query,s={},o.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(t,e,n){e&&(s[e]=n)})),s),a};var _t=1e3,Et=60*_t,Tt=60*Et,$t=24*Tt,St=7*$t,At=365.25*$t,Bt=function(t,e){e=e||{};var n=typeof t;if("string"===n&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!e)return;var n=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*At;case"weeks":case"week":case"w":return n*St;case"days":case"day":case"d":return n*$t;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Tt;case"minutes":case"minute":case"mins":case"min":case"m":return n*Et;case"seconds":case"second":case"secs":case"sec":case"s":return n*_t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(t);if("number"===n&&isFinite(t))return e.long?function(t){var e=Math.abs(t);if(e>=$t)return Ot(t,e,$t,"day");if(e>=Tt)return Ot(t,e,Tt,"hour");if(e>=Et)return Ot(t,e,Et,"minute");if(e>=_t)return Ot(t,e,_t,"second");return t+" ms"}(t):function(t){var e=Math.abs(t);if(e>=$t)return Math.round(t/$t)+"d";if(e>=Tt)return Math.round(t/Tt)+"h";if(e>=Et)return Math.round(t/Et)+"m";if(e>=_t)return Math.round(t/_t)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function Ot(t,e,n,r){var o=e>=1.5*n;return Math.round(t/n)+" "+r+(o?"s":"")}var Nt=function(t){function e(t){let r,o=null;function s(...t){if(!s.enabled)return;const n=s,o=Number(new Date),i=o-(r||o);n.diff=i,n.prev=r,n.curr=o,r=o,t[0]=e.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");let a=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,((r,o)=>{if("%%"===r)return"%";a++;const s=e.formatters[o];if("function"==typeof s){const e=t[a];r=s.call(n,e),t.splice(a,1),a--}return r})),e.formatArgs.call(n,t);(n.log||e.log).apply(n,t)}return s.namespace=t,s.useColors=e.useColors(),s.color=e.selectColor(t),s.extend=n,s.destroy=e.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:()=>null===o?e.enabled(t):o,set:t=>{o=t}}),"function"==typeof e.init&&e.init(s),s}function n(t,n){const r=e(this.namespace+(void 0===n?":":n)+t);return r.log=this.log,r}function r(t){return t.toString().substring(2,t.toString().length-2).replace(/\.\*\?$/,"*")}return e.debug=e,e.default=e,e.coerce=function(t){if(t instanceof Error)return t.stack||t.message;return t},e.disable=function(){const t=[...e.names.map(r),...e.skips.map(r).map((t=>"-"+t))].join(",");return e.enable(""),t},e.enable=function(t){let n;e.save(t),e.names=[],e.skips=[];const r=("string"==typeof t?t:"").split(/[\s,]+/),o=r.length;for(n=0;n<o;n++)r[n]&&("-"===(t=r[n].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))},e.enabled=function(t){if("*"===t[t.length-1])return!0;let n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=Bt,e.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(t).forEach((n=>{e[n]=t[n]})),e.names=[],e.skips=[],e.formatters={},e.selectColor=function(t){let n=0;for(let e=0;e<t.length;e++)n=(n<<5)-n+t.charCodeAt(e),n|=0;return e.colors[Math.abs(n)%e.colors.length]},e.enable(e.load()),e},Rt=ft((function(t,e){e.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;e.splice(1,0,n,"color: inherit");let r=0,o=0;e[0].replace(/%[a-zA-Z%]/g,(t=>{"%%"!==t&&(r++,"%c"===t&&(o=r))})),e.splice(o,0,n)},e.save=function(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch(t){}},e.load=function(){let t;try{t=e.storage.getItem("debug")}catch(t){}!t&&"undefined"!=typeof process&&"env"in process&&(t=process.env.DEBUG);return t},e.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=function(){try{return localStorage}catch(t){}}(),e.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.log=console.debug||console.log||(()=>{}),t.exports=Nt(e);const{formatters:n}=t.exports;n.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}})),jt=ft((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.url=void 0;const n=Rt("socket.io-client:url");e.url=function(t,e="",r){let o=t;r=r||"undefined"!=typeof location&&location,null==t&&(t=r.protocol+"//"+r.host),"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?r.protocol+t:r.host+t),/^(https?|wss?):\/\//.test(t)||(n("protocol-less url %s",t),t=void 0!==r?r.protocol+"//"+t:"https://"+t),n("parse %s",t),o=xt(t)),o.port||(/^(http|ws)$/.test(o.protocol)?o.port="80":/^(http|ws)s$/.test(o.protocol)&&(o.port="443")),o.path=o.path||"/";const s=-1!==o.host.indexOf(":")?"["+o.host+"]":o.host;return o.id=o.protocol+"://"+s+":"+o.port+e,o.href=o.protocol+"://"+s+(r&&r.port===o.port?"":":"+o.port),o}})),Pt=ft((function(t){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){t.exports=!1}})),Lt="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")(),Ft=function(t){const e=t.xdomain,n=t.xscheme,r=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!e||Pt))return new XMLHttpRequest}catch(t){}try{if("undefined"!=typeof XDomainRequest&&!n&&r)return new XDomainRequest}catch(t){}if(!e)try{return new(Lt[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}};const Mt=Object.create(null);Mt.open="0",Mt.close="1",Mt.ping="2",Mt.pong="3",Mt.message="4",Mt.upgrade="5",Mt.noop="6";const It=Object.create(null);Object.keys(Mt).forEach((t=>{It[Mt[t]]=t}));var qt={PACKET_TYPES:Mt,PACKET_TYPES_REVERSE:It,ERROR_PACKET:{type:"error",data:"parser error"}};const{PACKET_TYPES:Dt}=qt,Ut="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),Vt="function"==typeof ArrayBuffer,Ht=(t,e)=>{const n=new FileReader;return n.onload=function(){const t=n.result.split(",")[1];e("b"+t)},n.readAsDataURL(t)};var zt=({type:t,data:e},n,r)=>{return Ut&&e instanceof Blob?n?r(e):Ht(e,r):Vt&&(e instanceof ArrayBuffer||(o=e,"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(o):o&&o.buffer instanceof ArrayBuffer))?n?r(e instanceof ArrayBuffer?e:e.buffer):Ht(new Blob([e]),r):r(Dt[t]+(e||""));var o},Xt=ft((function(t,e){var n;n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e.encode=function(t){var e,r=new Uint8Array(t),o=r.length,s="";for(e=0;e<o;e+=3)s+=n[r[e]>>2],s+=n[(3&r[e])<<4|r[e+1]>>4],s+=n[(15&r[e+1])<<2|r[e+2]>>6],s+=n[63&r[e+2]];return o%3==2?s=s.substring(0,s.length-1)+"=":o%3==1&&(s=s.substring(0,s.length-2)+"=="),s},e.decode=function(t){var e,r,o,s,i,a=.75*t.length,c=t.length,u=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var h=new ArrayBuffer(a),l=new Uint8Array(h);for(e=0;e<c;e+=4)r=n.indexOf(t[e]),o=n.indexOf(t[e+1]),s=n.indexOf(t[e+2]),i=n.indexOf(t[e+3]),l[u++]=r<<2|o>>4,l[u++]=(15&o)<<4|s>>2,l[u++]=(3&s)<<6|63&i;return h}}));const{PACKET_TYPES_REVERSE:Kt,ERROR_PACKET:Yt}=qt;let Wt;"function"==typeof ArrayBuffer&&(Wt=Xt);const Jt=(t,e)=>{if(Wt){const n=Wt.decode(t);return Gt(n,e)}return{base64:!0,data:t}},Gt=(t,e)=>{switch(e){case"blob":return t instanceof ArrayBuffer?new Blob([t]):t;case"arraybuffer":default:return t}};var Zt=(t,e)=>{if("string"!=typeof t)return{type:"message",data:Gt(t,e)};const n=t.charAt(0);if("b"===n)return{type:"message",data:Jt(t.substring(1),e)};return Kt[n]?t.length>1?{type:Kt[n],data:t.substring(1)}:{type:Kt[n]}:Yt};const Qt=String.fromCharCode(30);var te={protocol:4,encodePacket:zt,encodePayload:(t,e)=>{const n=t.length,r=new Array(n);let o=0;t.forEach(((t,s)=>{zt(t,!1,(t=>{r[s]=t,++o===n&&e(r.join(Qt))}))}))},decodePacket:Zt,decodePayload:(t,e)=>{const n=t.split(Qt),r=[];for(let t=0;t<n.length;t++){const o=Zt(n[t],e);if(r.push(o),"error"===o.type)break}return r}},ee=ft((function(t){function e(t){if(t)return function(t){for(var n in e.prototype)t[n]=e.prototype[n];return t}(t)}t.exports=e,e.prototype.on=e.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},e.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var o=0;o<r.length;o++)if((n=r[o])===e||n.fn===e){r.splice(o,1);break}return 0===r.length&&delete this._callbacks["$"+t],this},e.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){r=0;for(var o=(n=n.slice(0)).length;r<o;++r)n[r].apply(this,e)}return this},e.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},e.prototype.hasListeners=function(t){return!!this.listeners(t).length}}));const ne=Rt("engine.io-client:transport");var re,oe=class extends ee{constructor(t){super(),this.opts=t,this.query=t.query,this.readyState="",this.socket=t.socket}onError(t,e){const n=new Error(t);return n.type="TransportError",n.description=e,this.emit("error",n),this}open(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(t){"open"===this.readyState?this.write(t):ne("transport is not open, discarding packets")}onOpen(){this.readyState="open",this.writable=!0,this.emit("open")}onData(t){const e=te.decodePacket(t,this.socket.binaryType);this.onPacket(e)}onPacket(t){this.emit("packet",t)}onClose(){this.readyState="closed",this.emit("close")}},se=function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e},ie=function(t){for(var e={},n=t.split("&"),r=0,o=n.length;r<o;r++){var s=n[r].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e},ae="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),ce={},ue=0,he=0;function le(t){var e="";do{e=ae[t%64]+e,t=Math.floor(t/64)}while(t>0);return e}function pe(){var t=le(+new Date);return t!==re?(ue=0,re=t):t+"."+le(ue++)}for(;he<64;he++)ce[ae[he]]=he;pe.encode=le,pe.decode=function(t){var e=0;for(he=0;he<t.length;he++)e=64*e+ce[t.charAt(he)];return e};var de=pe;const fe=Rt("engine.io-client:polling");var me=class extends oe{get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const e=()=>{fe("paused"),this.readyState="paused",t()};if(this.polling||!this.writable){let t=0;this.polling&&(fe("we are currently polling - waiting to pause"),t++,this.once("pollComplete",(function(){fe("pre-pause polling complete"),--t||e()}))),this.writable||(fe("we are currently writing - waiting to pause"),t++,this.once("drain",(function(){fe("pre-pause writing complete"),--t||e()})))}else e()}poll(){fe("polling"),this.polling=!0,this.doPoll(),this.emit("poll")}onData(t){fe("polling got data %s",t);te.decodePayload(t,this.socket.binaryType).forEach((t=>{if("opening"===this.readyState&&"open"===t.type&&this.onOpen(),"close"===t.type)return this.onClose(),!1;this.onPacket(t)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():fe('ignoring poll - transport state "%s"',this.readyState))}doClose(){const t=()=>{fe("writing close packet"),this.write([{type:"close"}])};"open"===this.readyState?(fe("transport open - closing"),t()):(fe("transport not open - deferring close"),this.once("open",t))}write(t){this.writable=!1,te.encodePayload(t,(t=>{this.doWrite(t,(()=>{this.writable=!0,this.emit("drain")}))}))}uri(){let t=this.query||{};const e=this.opts.secure?"https":"http";let n="";!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=de()),this.supportsBinary||t.sid||(t.b64=1),t=se(t),this.opts.port&&("https"===e&&443!==Number(this.opts.port)||"http"===e&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),t.length&&(t="?"+t);return e+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+t}},ge={pick:(t,...e)=>e.reduce(((e,n)=>(t.hasOwnProperty(n)&&(e[n]=t[n]),e)),{})};const{pick:ye}=ge,be=Rt("engine.io-client:polling-xhr");function ve(){}const we=null!=new Ft({xdomain:!1}).responseType;class Ce extends ee{constructor(t,e){super(),this.opts=e,this.method=e.method||"GET",this.uri=t,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.create()}create(){const t=ye(this.opts,"agent","enablesXDR","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd,t.xscheme=!!this.opts.xs;const e=this.xhr=new Ft(t);try{be("xhr open %s: %s",this.method,this.uri),e.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){e.setDisableHeaderCheck&&e.setDisableHeaderCheck(!0);for(let t in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(t)&&e.setRequestHeader(t,this.opts.extraHeaders[t])}}catch(t){}if("POST"===this.method)try{e.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}try{e.setRequestHeader("Accept","*/*")}catch(t){}"withCredentials"in e&&(e.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(e.timeout=this.opts.requestTimeout),this.hasXDR()?(e.onload=()=>{this.onLoad()},e.onerror=()=>{this.onError(e.responseText)}):e.onreadystatechange=()=>{4===e.readyState&&(200===e.status||1223===e.status?this.onLoad():setTimeout((()=>{this.onError("number"==typeof e.status?e.status:0)}),0))},be("xhr data %s",this.data),e.send(this.data)}catch(t){return void setTimeout((()=>{this.onError(t)}),0)}"undefined"!=typeof document&&(this.index=Ce.requestsCount++,Ce.requests[this.index]=this)}onSuccess(){this.emit("success"),this.cleanup()}onData(t){this.emit("data",t),this.onSuccess()}onError(t){this.emit("error",t),this.cleanup(!0)}cleanup(t){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=ve:this.xhr.onreadystatechange=ve,t)try{this.xhr.abort()}catch(t){}"undefined"!=typeof document&&delete Ce.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;null!==t&&this.onData(t)}hasXDR(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR}abort(){this.cleanup()}}if(Ce.requestsCount=0,Ce.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",ke);else if("function"==typeof addEventListener){addEventListener("onpagehide"in Lt?"pagehide":"unload",ke,!1)}function ke(){for(let t in Ce.requests)Ce.requests.hasOwnProperty(t)&&Ce.requests[t].abort()}var xe=class extends me{constructor(t){if(super(t),"undefined"!=typeof location){const e="https:"===location.protocol;let n=location.port;n||(n=e?443:80),this.xd="undefined"!=typeof location&&t.hostname!==location.hostname||n!==t.port,this.xs=t.secure!==e}const e=t&&t.forceBase64;this.supportsBinary=we&&!e}request(t={}){return Object.assign(t,{xd:this.xd,xs:this.xs},this.opts),new Ce(this.uri(),t)}doWrite(t,e){const n=this.request({method:"POST",data:t});n.on("success",e),n.on("error",(t=>{this.onError("xhr post error",t)}))}doPoll(){be("xhr poll");const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(t=>{this.onError("xhr poll error",t)})),this.pollXhr=t}},_e=Ce;xe.Request=_e;const Ee=/\n/g,Te=/\\n/g;let $e;var Se=class extends me{constructor(t){super(t),this.query=this.query||{},$e||($e=Lt.___eio=Lt.___eio||[]),this.index=$e.length,$e.push(this.onData.bind(this)),this.query.j=this.index}get supportsBinary(){return!1}doClose(){this.script&&(this.script.onerror=()=>{},this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),super.doClose()}doPoll(){const t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=t=>{this.onError("jsonp poll error",t)};const e=document.getElementsByTagName("script")[0];e?e.parentNode.insertBefore(t,e):(document.head||document.body).appendChild(t),this.script=t;"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){const t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)}),100)}doWrite(t,e){let n;if(!this.form){const t=document.createElement("form"),e=document.createElement("textarea"),n=this.iframeId="eio_iframe_"+this.index;t.className="socketio",t.style.position="absolute",t.style.top="-1000px",t.style.left="-1000px",t.target=n,t.method="POST",t.setAttribute("accept-charset","utf-8"),e.name="d",t.appendChild(e),document.body.appendChild(t),this.form=t,this.area=e}function r(){o(),e()}this.form.action=this.uri();const o=()=>{if(this.iframe)try{this.form.removeChild(this.iframe)}catch(t){this.onError("jsonp polling iframe removal error",t)}try{const t='<iframe src="javascript:0" name="'+this.iframeId+'">';n=document.createElement(t)}catch(t){n=document.createElement("iframe"),n.name=this.iframeId,n.src="javascript:0"}n.id=this.iframeId,this.form.appendChild(n),this.iframe=n};o(),t=t.replace(Te,"\\\n"),this.area.value=t.replace(Ee,"\\n");try{this.form.submit()}catch(t){}this.iframe.attachEvent?this.iframe.onreadystatechange=()=>{"complete"===this.iframe.readyState&&r()}:this.iframe.onload=r}},Ae={WebSocket:Lt.WebSocket||Lt.MozWebSocket,usingBrowserWebSocket:!0,defaultBinaryType:"arraybuffer"};const{pick:Be}=ge,{WebSocket:Oe,usingBrowserWebSocket:Ne,defaultBinaryType:Re}=Ae,je=Rt("engine.io-client:websocket"),Pe="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class Le extends oe{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),e=this.opts.protocols,n=Pe?{}:Be(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=Ne&&!Pe?e?new Oe(t,e):new Oe(t):new Oe(t,e,n)}catch(t){return this.emit("error",t)}this.ws.binaryType=this.socket.binaryType||Re,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=this.onClose.bind(this),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const n=t[e],r=e===t.length-1;te.encodePacket(n,this.supportsBinary,(t=>{const e={};if(!Ne&&(n.options&&(e.compress=n.options.compress),this.opts.perMessageDeflate)){("string"==typeof t?Buffer.byteLength(t):t.length)<this.opts.perMessageDeflate.threshold&&(e.compress=!1)}try{Ne?this.ws.send(t):this.ws.send(t,e)}catch(t){je("websocket closed before onclose event")}r&&setTimeout((()=>{this.writable=!0,this.emit("drain")}),0)}))}}onClose(){oe.prototype.onClose.call(this)}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){let t=this.query||{};const e=this.opts.secure?"wss":"ws";let n="";this.opts.port&&("wss"===e&&443!==Number(this.opts.port)||"ws"===e&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),this.opts.timestampRequests&&(t[this.opts.timestampParam]=de()),this.supportsBinary||(t.b64=1),t=se(t),t.length&&(t="?"+t);return e+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+t}check(){return!(!Oe||"__initialize"in Oe&&this.name===Le.prototype.name)}}var Fe={polling:function(t){let e,n=!1,r=!1;const o=!1!==t.jsonp;if("undefined"!=typeof location){const e="https:"===location.protocol;let o=location.port;o||(o=e?443:80),n=t.hostname!==location.hostname||o!==t.port,r=t.secure!==e}if(t.xdomain=n,t.xscheme=r,e=new Ft(t),"open"in e&&!t.forceJSONP)return new xe(t);if(!o)throw new Error("JSONP disabled");return new Se(t)},websocket:Le};const Me=Rt("engine.io-client:socket");class Ie extends ee{constructor(t,e={}){super(),t&&"object"==typeof t&&(e=t,t=null),t?(t=xt(t),e.hostname=t.host,e.secure="https"===t.protocol||"wss"===t.protocol,e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=xt(e.host).host),this.secure=null!=e.secure?e.secure:"undefined"!=typeof location&&"https:"===location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.hostname=e.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=e.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.transports=e.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,jsonp:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},e),this.opts.path=this.opts.path.replace(/\/$/,"")+"/","string"==typeof this.opts.query&&(this.opts.query=ie(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&addEventListener("beforeunload",(()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())}),!1),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close")},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){Me('creating transport "%s"',t);const e=function(t){const e={};for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}(this.opts.query);e.EIO=te.protocol,e.transport=t,this.id&&(e.sid=this.id);const n=Object.assign({},this.opts.transportOptions[t],this.opts,{query:e,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return Me("options: %j",n),new Fe[t](n)}open(){let t;if(this.opts.rememberUpgrade&&Ie.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length)return void setTimeout((()=>{this.emit("error","No transports available")}),0);t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(t){return Me("error while creating transport: %s",t),this.transports.shift(),void this.open()}t.open(),this.setTransport(t)}setTransport(t){Me("setting transport %s",t.name),this.transport&&(Me("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(()=>{this.onClose("transport close")}))}probe(t){Me('probing transport "%s"',t);let e=this.createTransport(t,{probe:1}),n=!1;Ie.priorWebsocketSuccess=!1;const r=()=>{n||(Me('probe transport "%s" opened',t),e.send([{type:"ping",data:"probe"}]),e.once("packet",(r=>{if(!n)if("pong"===r.type&&"probe"===r.data){if(Me('probe transport "%s" pong',t),this.upgrading=!0,this.emit("upgrading",e),!e)return;Ie.priorWebsocketSuccess="websocket"===e.name,Me('pausing current transport "%s"',this.transport.name),this.transport.pause((()=>{n||"closed"!==this.readyState&&(Me("changing transport and sending upgrade packet"),u(),this.setTransport(e),e.send([{type:"upgrade"}]),this.emit("upgrade",e),e=null,this.upgrading=!1,this.flush())}))}else{Me('probe transport "%s" failed',t);const n=new Error("probe error");n.transport=e.name,this.emit("upgradeError",n)}})))};function o(){n||(n=!0,u(),e.close(),e=null)}const s=n=>{const r=new Error("probe error: "+n);r.transport=e.name,o(),Me('probe transport "%s" failed because of error: %s',t,n),this.emit("upgradeError",r)};function i(){s("transport closed")}function a(){s("socket closed")}function c(t){e&&t.name!==e.name&&(Me('"%s" works - aborting "%s"',t.name,e.name),o())}const u=()=>{e.removeListener("open",r),e.removeListener("error",s),e.removeListener("close",i),this.removeListener("close",a),this.removeListener("upgrading",c)};e.once("open",r),e.once("error",s),e.once("close",i),this.once("close",a),this.once("upgrading",c),e.open()}onOpen(){if(Me("socket open"),this.readyState="open",Ie.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause){Me("starting upgrade probes");let t=0;const e=this.upgrades.length;for(;t<e;t++)this.probe(this.upgrades[t])}}onPacket(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(Me('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emit("pong");break;case"error":const e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else Me('packet received with socket readyState "%s"',this.readyState)}onHandshake(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){clearTimeout(this.pingTimeoutTimer),this.pingTimeoutTimer=setTimeout((()=>{this.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()}flush(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(Me("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))}write(t,e,n){return this.sendPacket("message",t,e,n),this}send(t,e,n){return this.sendPacket("message",t,e,n),this}sendPacket(t,e,n,r){if("function"==typeof e&&(r=e,e=void 0),"function"==typeof n&&(r=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const o={type:t,data:e,options:n};this.emit("packetCreate",o),this.writeBuffer.push(o),r&&this.once("flush",r),this.flush()}close(){const t=()=>{this.onClose("forced close"),Me("socket closing - telling transport to close"),this.transport.close()},e=()=>{this.removeListener("upgrade",e),this.removeListener("upgradeError",e),t()},n=()=>{this.once("upgrade",e),this.once("upgradeError",e)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?n():t()})):this.upgrading?n():t()),this}onError(t){Me("socket error %j",t),Ie.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)}onClose(t,e){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(Me('socket close with reason: "%s"',t),clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emit("close",t,e),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const e=[];let n=0;const r=t.length;for(;n<r;n++)~this.transports.indexOf(t[n])&&e.push(t[n]);return e}}Ie.priorWebsocketSuccess=!1,Ie.protocol=te.protocol;var qe=Ie,De=(t,e)=>new qe(t,e),Ue=qe,Ve=qe.protocol,He=oe,ze=Fe,Xe=te;De.Socket=Ue,De.protocol=Ve,De.Transport=He,De.transports=ze,De.parser=Xe;var Ke=ft((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.hasBinary=e.isBinary=void 0;const n="function"==typeof ArrayBuffer,r=Object.prototype.toString,o="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===r.call(Blob),s="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===r.call(File);function i(t){return n&&(t instanceof ArrayBuffer||(t=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer)(t))||o&&t instanceof Blob||s&&t instanceof File}e.isBinary=i,e.hasBinary=function t(e,n){if(!e||"object"!=typeof e)return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(t(e[n]))return!0;return!1}if(i(e))return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return t(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return!0;return!1}})),Ye=ft((function(t,e){function n(t,e){if(!t)return t;if(Ke.isBinary(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}if(Array.isArray(t)){const r=new Array(t.length);for(let o=0;o<t.length;o++)r[o]=n(t[o],e);return r}if("object"==typeof t&&!(t instanceof Date)){const r={};for(const o in t)t.hasOwnProperty(o)&&(r[o]=n(t[o],e));return r}return t}function r(t,e){if(!t)return t;if(t&&t._placeholder)return e[t.num];if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=r(t[n],e);else if("object"==typeof t)for(const n in t)t.hasOwnProperty(n)&&(t[n]=r(t[n],e));return t}Object.defineProperty(e,"__esModule",{value:!0}),e.reconstructPacket=e.deconstructPacket=void 0,e.deconstructPacket=function(t){const e=[],r=t.data,o=t;return o.data=n(r,e),o.attachments=e.length,{packet:o,buffers:e}},e.reconstructPacket=function(t,e){return t.data=r(t.data,e),t.attachments=void 0,t}})),We=ft((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Decoder=e.Encoder=e.PacketType=e.protocol=void 0;const n=Rt("socket.io-parser");var r;e.protocol=5,function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"}(r=e.PacketType||(e.PacketType={}));e.Encoder=class{encode(t){return n("encoding packet %j",t),t.type!==r.EVENT&&t.type!==r.ACK||!Ke.hasBinary(t)?[this.encodeAsString(t)]:(t.type=t.type===r.EVENT?r.BINARY_EVENT:r.BINARY_ACK,this.encodeAsBinary(t))}encodeAsString(t){let e=""+t.type;return t.type!==r.BINARY_EVENT&&t.type!==r.BINARY_ACK||(e+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(e+=t.nsp+","),null!=t.id&&(e+=t.id),null!=t.data&&(e+=JSON.stringify(t.data)),n("encoded %j as %s",t,e),e}encodeAsBinary(t){const e=Ye.deconstructPacket(t),n=this.encodeAsString(e.packet),r=e.buffers;return r.unshift(n),r}};class o extends ee{constructor(){super()}add(t){let e;if("string"==typeof t)e=this.decodeString(t),e.type===r.BINARY_EVENT||e.type===r.BINARY_ACK?(this.reconstructor=new s(e),0===e.attachments&&super.emit("decoded",e)):super.emit("decoded",e);else{if(!Ke.isBinary(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");e=this.reconstructor.takeBinaryData(t),e&&(this.reconstructor=null,super.emit("decoded",e))}}decodeString(t){let e=0;const s={type:Number(t.charAt(0))};if(void 0===r[s.type])throw new Error("unknown packet type "+s.type);if(s.type===r.BINARY_EVENT||s.type===r.BINARY_ACK){const n=e+1;for(;"-"!==t.charAt(++e)&&e!=t.length;);const r=t.substring(n,e);if(r!=Number(r)||"-"!==t.charAt(e))throw new Error("Illegal attachments");s.attachments=Number(r)}if("/"===t.charAt(e+1)){const n=e+1;for(;++e;){if(","===t.charAt(e))break;if(e===t.length)break}s.nsp=t.substring(n,e)}else s.nsp="/";const i=t.charAt(e+1);if(""!==i&&Number(i)==i){const n=e+1;for(;++e;){const n=t.charAt(e);if(null==n||Number(n)!=n){--e;break}if(e===t.length)break}s.id=Number(t.substring(n,e+1))}if(t.charAt(++e)){const n=function(t){try{return JSON.parse(t)}catch(t){return!1}}(t.substr(e));if(!o.isPayloadValid(s.type,n))throw new Error("invalid payload");s.data=n}return n("decoded %s as %j",t,s),s}static isPayloadValid(t,e){switch(t){case r.CONNECT:return"object"==typeof e;case r.DISCONNECT:return void 0===e;case r.CONNECT_ERROR:return"string"==typeof e||"object"==typeof e;case r.EVENT:case r.BINARY_EVENT:return Array.isArray(e)&&e.length>0;case r.ACK:case r.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}e.Decoder=o;class s{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const t=Ye.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}})),Je=ft((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.on=void 0,e.on=function(t,e,n){return t.on(e,n),function(){t.off(e,n)}}})),Ge=ft((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.StrictEventEmitter=void 0;e.StrictEventEmitter=class extends ee{on(t,e){return super.on(t,e),this}once(t,e){return super.once(t,e),this}emit(t,...e){return super.emit(t,...e),this}emitReserved(t,...e){return super.emit(t,...e),this}listeners(t){return super.listeners(t)}}})),Ze=ft((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Socket=void 0;const n=Rt("socket.io-client:socket"),r=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class o extends Ge.StrictEventEmitter{constructor(t,e,n){super(),this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=e,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.auth&&(this.auth=n.auth),this.io._autoConnect&&this.open()}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Je.on(t,"open",this.onopen.bind(this)),Je.on(t,"packet",this.onpacket.bind(this)),Je.on(t,"error",this.onerror.bind(this)),Je.on(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...e){if(r.hasOwnProperty(t))throw new Error('"'+t+'" is a reserved event name');e.unshift(t);const o={type:We.PacketType.EVENT,data:e,options:{}};o.options.compress=!1!==this.flags.compress,"function"==typeof e[e.length-1]&&(n("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),o.id=this.ids++);const s=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!s||!this.connected)?n("discard packet as the transport is not currently writable"):this.connected?this.packet(o):this.sendBuffer.push(o),this.flags={},this}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){n("transport is open - connecting"),"function"==typeof this.auth?this.auth((t=>{this.packet({type:We.PacketType.CONNECT,data:t})})):this.packet({type:We.PacketType.CONNECT,data:this.auth})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t){n("close (%s)",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emitReserved("disconnect",t)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case We.PacketType.CONNECT:if(t.data&&t.data.sid){const e=t.data.sid;this.onconnect(e)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case We.PacketType.EVENT:case We.PacketType.BINARY_EVENT:this.onevent(t);break;case We.PacketType.ACK:case We.PacketType.BINARY_ACK:this.onack(t);break;case We.PacketType.DISCONNECT:this.ondisconnect();break;case We.PacketType.CONNECT_ERROR:const e=new Error(t.data.message);e.data=t.data.data,this.emitReserved("connect_error",e)}}onevent(t){const e=t.data||[];n("emitting event %j",e),null!=t.id&&(n("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const e=this._anyListeners.slice();for(const n of e)n.apply(this,t)}super.emit.apply(this,t)}ack(t){const e=this;let r=!1;return function(...o){r||(r=!0,n("sending ack %j",o),e.packet({type:We.PacketType.ACK,id:t,data:o}))}}onack(t){const e=this.acks[t.id];"function"==typeof e?(n("calling ack %s with %j",t.id,t.data),e.apply(this,t.data),delete this.acks[t.id]):n("bad ack %s",t.id)}onconnect(t){n("socket connected with id %s",t),this.id=t,this.connected=!0,this.disconnected=!1,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach((t=>this.emitEvent(t))),this.receiveBuffer=[],this.sendBuffer.forEach((t=>this.packet(t))),this.sendBuffer=[]}ondisconnect(){n("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((t=>t())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&(n("performing disconnect (%s)",this.nsp),this.packet({type:We.PacketType.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const e=this._anyListeners;for(let n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}}e.Socket=o})),Qe=tn;function tn(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}tn.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},tn.prototype.reset=function(){this.attempts=0},tn.prototype.setMin=function(t){this.ms=t},tn.prototype.setMax=function(t){this.max=t},tn.prototype.setJitter=function(t){this.jitter=t};var en=ft((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Manager=void 0;const n=Rt("socket.io-client:manager");class r extends Ge.StrictEventEmitter{constructor(t,e){super(),this.nsps={},this.subs=[],t&&"object"==typeof t&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",this.opts=e,this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new Qe({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this._readyState="closed",this.uri=t;const n=e.parser||We;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this._autoConnect=!1!==e.autoConnect,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return void 0===t?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var e;return void 0===t?this._reconnectionDelay:(this._reconnectionDelay=t,null===(e=this.backoff)||void 0===e||e.setMin(t),this)}randomizationFactor(t){var e;return void 0===t?this._randomizationFactor:(this._randomizationFactor=t,null===(e=this.backoff)||void 0===e||e.setJitter(t),this)}reconnectionDelayMax(t){var e;return void 0===t?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,null===(e=this.backoff)||void 0===e||e.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(t){if(n("readyState %s",this._readyState),~this._readyState.indexOf("open"))return this;n("opening %s",this.uri),this.engine=De(this.uri,this.opts);const e=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const o=Je.on(e,"open",(function(){r.onopen(),t&&t()})),s=Je.on(e,"error",(e=>{n("error"),r.cleanup(),r._readyState="closed",this.emitReserved("error",e),t?t(e):r.maybeReconnectOnOpen()}));if(!1!==this._timeout){const t=this._timeout;n("connect attempt will timeout after %d",t),0===t&&o();const r=setTimeout((()=>{n("connect attempt timed out after %d",t),o(),e.close(),e.emit("error",new Error("timeout"))}),t);this.opts.autoUnref&&r.unref(),this.subs.push((function(){clearTimeout(r)}))}return this.subs.push(o),this.subs.push(s),this}connect(t){return this.open(t)}onopen(){n("open"),this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Je.on(t,"ping",this.onping.bind(this)),Je.on(t,"data",this.ondata.bind(this)),Je.on(t,"error",this.onerror.bind(this)),Je.on(t,"close",this.onclose.bind(this)),Je.on(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){this.decoder.add(t)}ondecoded(t){this.emitReserved("packet",t)}onerror(t){n("error",t),this.emitReserved("error",t)}socket(t,e){let n=this.nsps[t];return n||(n=new Ze.Socket(this,t,e),this.nsps[t]=n),n}_destroy(t){const e=Object.keys(this.nsps);for(const t of e){if(this.nsps[t].active)return void n("socket %s is still active, skipping close",t)}this._close()}_packet(t){n("writing packet %j",t);const e=this.encoder.encode(t);for(let n=0;n<e.length;n++)this.engine.write(e[n],t.options)}cleanup(){n("cleanup"),this.subs.forEach((t=>t())),this.subs.length=0,this.decoder.destroy()}_close(){n("disconnect"),this.skipReconnect=!0,this._reconnecting=!1,"opening"===this._readyState&&this.cleanup(),this.backoff.reset(),this._readyState="closed",this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t){n("onclose"),this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)n("reconnect failed"),this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const e=this.backoff.duration();n("will wait %dms before reconnect attempt",e),this._reconnecting=!0;const r=setTimeout((()=>{t.skipReconnect||(n("attempting reconnect"),this.emitReserved("reconnect_attempt",t.backoff.attempts),t.skipReconnect||t.open((e=>{e?(n("reconnect attempt error"),t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",e)):(n("reconnect success"),t.onreconnect())})))}),e);this.opts.autoUnref&&r.unref(),this.subs.push((function(){clearTimeout(r)}))}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}e.Manager=r})),nn=dt(ft((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.io=e.Socket=e.Manager=e.protocol=void 0;const n=Rt("socket.io-client");t.exports=e=o;const r=e.managers={};function o(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};const o=jt.url(t,e.path||"/socket.io"),s=o.source,i=o.id,a=o.path,c=r[i]&&a in r[i].nsps;let u;return e.forceNew||e["force new connection"]||!1===e.multiplex||c?(n("ignoring socket cache for %s",s),u=new en.Manager(s,e)):(r[i]||(n("new io instance for %s",s),r[i]=new en.Manager(s,e)),u=r[i]),o.query&&!e.query&&(e.query=o.queryKey),u.socket(o.path,e)}e.io=o,Object.defineProperty(e,"protocol",{enumerable:!0,get:function(){return We.protocol}}),e.connect=o;var s=en;Object.defineProperty(e,"Manager",{enumerable:!0,get:function(){return s.Manager}}),Object.defineProperty(e,"Socket",{enumerable:!0,get:function(){return Ze.Socket}}),e.default=o})));function rn(e){let n;return{c(){n=d("div")},m(t,e){l(t,n,e)},p:t,i:t,o:t,d(t){t&&p(n)}}}function on(t){const e=$();let n=null;const r=nn("ws://localhost:3000/",{withCredentials:!0,extraHeaders:{"X-Perkd-Hooks":"enabled"}});return r.on("connect",(()=>{console.log(`connect ${r.id}`)})),r.on("perkd:hooks",(t=>{const{data:r}=t;if(console.log("hooks received ",t),n!==r.nonce){if(n=r.nonce,"update/tier"===r.topic&&(console.log("[SOCKET CLIENT] update/tier-- ",r),e("perkd::hooks-sync",{data:r})),window.__perkd__init__&&(e("perkd::init",{data:window.__perkd__init__}),window.__perkd__init__.isLoggedIn&&window.__perkd__init__.shop&&(console.log("shop id ",wt(window.__perkd__init__.shop)),r.discountCode&&"create/discount"===r.topic))){const t=`https://${window.__perkd__init__.shop}/discount/${r.discountCode}`;console.log(`should post dicount code at ${t} `),fetch(t,{method:"GET"})}}else console.log("[IGNORING] duplicate socket event received. ")})),r.on("disconnect",(()=>{console.log("disconnect")})),setInterval((()=>{const t=Date.now();r.emit("ping",(()=>{console.log(`[CLIENT] pong (latency: ${Date.now()-t} ms)`)}))}),15e3),[]}nn.Manager,nn.Socket;class sn extends W{constructor(t){super(),Y(this,t,on,rn,i,{})}}function an(e){let n;return{c(){n=d("style"),n.textContent='@import url("https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@400;500;700&display=swap");\n\n* {\n  font-family: Nunito Sans, Sans;\n  /* subpixel anti-aliased */\n  -webkit-font-smoothing: auto;\n  -moz-osx-font-smoothing: auto;\n  /* -webkit-font-smoothing: antialiased;\n          -moz-osx-font-smoothing: grayscale; */\n}'},m(t,e){h(document.head,n)},p:t,i:t,o:t,d(t){p(n)}}}class cn extends W{constructor(t){super(),Y(this,t,null,an,i,{})}}function un(n){let r,o,s=[{width:"25"},{height:"23"},{viewBox:"0 0 25 23"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},n[0]],i={};for(let t=0;t<s.length;t+=1)i=e(i,s[t]);return{c(){r=f("svg"),o=f("path"),this.h()},l(t){r=C(t,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0},1);var e=w(r);o=C(e,"path",{d:!0,fill:!0},1),w(o).forEach(p),e.forEach(p),this.h()},h(){b(o,"d","M23.9583 2.77778H19.4444V1.04167C19.4444 0.46441 18.98 0 18.4028 0H6.59722C6.01996 0 5.55556 0.46441 5.55556 1.04167V2.77778H1.04167C0.46441 2.77778 0 3.24219 0 3.81944V6.25C0 7.79948 0.976562 9.39236 2.68663 10.6207C4.05382 11.6059 5.71615 12.2309 7.46094 12.4306C8.82378 14.6918 10.4167 15.625 10.4167 15.625V18.75H8.33333C6.80122 18.75 5.55556 19.6484 5.55556 21.1806V21.7014C5.55556 21.9878 5.78993 22.2222 6.07639 22.2222H18.9236C19.2101 22.2222 19.4444 21.9878 19.4444 21.7014V21.1806C19.4444 19.6484 18.1988 18.75 16.6667 18.75H14.5833V15.625C14.5833 15.625 16.1762 14.6918 17.5391 12.4306C19.2882 12.2309 20.9505 11.6059 22.3134 10.6207C24.0191 9.39236 25 7.79948 25 6.25V3.81944C25 3.24219 24.5356 2.77778 23.9583 2.77778ZM4.3099 8.36806C3.25087 7.60417 2.77778 6.75347 2.77778 6.25V5.55556H5.56424C5.60764 6.97049 5.81597 8.2118 6.11979 9.29687C5.46441 9.07118 4.85243 8.75868 4.3099 8.36806ZM22.2222 6.25C22.2222 6.94878 21.454 7.81684 20.6901 8.36806C20.1476 8.75868 19.5312 9.07118 18.8759 9.29687C19.1797 8.2118 19.388 6.97049 19.4314 5.55556H22.2222V6.25Z"),b(o,"fill","#E48731"),v(r,i)},m(t,e){l(t,r,e),h(r,o)},p(t,[e]){v(r,i=V(s,[{width:"25"},{height:"23"},{viewBox:"0 0 25 23"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},1&e&&t[0]]))},i:t,o:t,d(t){t&&p(r)}}}function hn(t,n,r){return t.$$set=t=>{r(0,n=e(e({},n),u(t)))},[n=u(n)]}class ln extends W{constructor(t){super(),Y(this,t,hn,un,i,{})}}function pn(t){let e,n,r,o,s,i,a,c,u,v,w,C,k,x,_,E,T,$;return s=new ln({props:{width:"24",class:"opacity-40"}}),{c(){e=d("div"),n=d("div"),r=d("div"),o=d("div"),H(s.$$.fragment),i=g(),a=d("div"),c=f("svg"),u=f("circle"),C=g(),k=d("a"),x=m("x"),b(o,"class","font-medium text-xs flex flex-row items-center justify-center"),b(u,"class","text-orange-dark progress-ring__circle svelte-b4grqx"),b(u,"stroke-width","4"),b(u,"stroke-dasharray",t[3]+" "+t[3]),b(u,"stroke-dashoffset",v=t[3]-t[0]/100*t[3]),b(u,"stroke-linecap","round"),b(u,"stroke","currentColor"),b(u,"fill","transparent"),b(u,"r","34"),b(u,"cx","40"),b(u,"cy","40"),b(c,"class","w-20 h-20"),b(a,"x-data","scrollProgress"),b(a,"class","fixed inline-flex items-center justify-center overflow-hidden rounded-full z-0"),b(r,"class","widget-toggler__default\n      flex flex-row\n      cursor-pointer\n      items-center  justify-center  border\n      shadow-lg svelte-b4grqx"),b(r,"style",w=t[1]+"color:white;"),b(k,"href","#"),b(k,"style",_=t[2]+"color: white;"),b(k,"class","widget-toggler__close flex  items-center bg-orange-dark justify-center shadow-lg border svelte-b4grqx"),b(n,"id","widget-toggler__btn"),b(n,"aria-label","Perkd Rewards Program"),b(n,"class","flex justify-end\n          tracking-normal\n          outline-none focus:outline-none p-4 items-center svelte-b4grqx"),b(e,"class","widget-toggler svelte-b4grqx")},m(p,d){l(p,e,d),h(e,n),h(n,r),h(r,o),z(s,o,null),h(r,i),h(r,a),h(a,c),h(c,u),h(n,C),h(n,k),h(k,x),E=!0,T||($=y(n,"click",t[6]),T=!0)},p(t,[e]){(!E||1&e&&v!==(v=t[3]-t[0]/100*t[3]))&&b(u,"stroke-dashoffset",v),(!E||2&e&&w!==(w=t[1]+"color:white;"))&&b(r,"style",w),(!E||4&e&&_!==(_=t[2]+"color: white;"))&&b(k,"style",_)},i(t){E||(D(s.$$.fragment,t),E=!0)},o(t){U(s.$$.fragment,t),E=!1},d(t){t&&p(e),X(s),T=!1,$()}}}function dn(t,e,n){let r,o,{isToggled:s=!1}=e,{progress:i=0}=e;const a=68*Math.PI,c=$();return t.$$set=t=>{"isToggled"in t&&n(5,s=t.isToggled),"progress"in t&&n(0,i=t.progress)},t.$$.update=()=>{32&t.$$.dirty&&n(1,r=s?"transform: translateX(60px); transition: opacity 0.1s; opacity:0; z-index: -1; pointer-events: none;":"transform: translateX(0px); transition: opacity 0.2s; opacity:1; z-index: 5;  transition: all .2s ease-in-out!important; "),32&t.$$.dirty&&n(2,o=s?"transform: translateX(0px); transition: opacity 0.1s; opacity:1; z-index:5;":"transform: translateX(-5px); transition: opacity 0.1s; opacity:0;  transition: all .2s ease-in-out!important; z-index:-1;")},[i,r,o,a,c,s,()=>{c("toggle")}]}class fn extends W{constructor(t){super(),Y(this,t,dn,pn,i,{isToggled:5,progress:0})}}var mn=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}},gn=Object.prototype.toString;function yn(t){return"[object Array]"===gn.call(t)}function bn(t){return void 0===t}function vn(t){return null!==t&&"object"==typeof t}function wn(t){if("[object Object]"!==gn.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function Cn(t){return"[object Function]"===gn.call(t)}function kn(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),yn(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(null,t[o],o,t)}var xn={isArray:yn,isArrayBuffer:function(t){return"[object ArrayBuffer]"===gn.call(t)},isBuffer:function(t){return null!==t&&!bn(t)&&null!==t.constructor&&!bn(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:vn,isPlainObject:wn,isUndefined:bn,isDate:function(t){return"[object Date]"===gn.call(t)},isFile:function(t){return"[object File]"===gn.call(t)},isBlob:function(t){return"[object Blob]"===gn.call(t)},isFunction:Cn,isStream:function(t){return vn(t)&&Cn(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:kn,merge:function t(){var e={};function n(n,r){wn(e[r])&&wn(n)?e[r]=t(e[r],n):wn(n)?e[r]=t({},n):yn(n)?e[r]=n.slice():e[r]=n}for(var r=0,o=arguments.length;r<o;r++)kn(arguments[r],n);return e},extend:function(t,e,n){return kn(e,(function(e,r){t[r]=n&&"function"==typeof e?mn(e,n):e})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}};function _n(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var En=function(t,e,n){if(!e)return t;var r;if(n)r=n(e);else if(xn.isURLSearchParams(e))r=e.toString();else{var o=[];xn.forEach(e,(function(t,e){null!=t&&(xn.isArray(t)?e+="[]":t=[t],xn.forEach(t,(function(t){xn.isDate(t)?t=t.toISOString():xn.isObject(t)&&(t=JSON.stringify(t)),o.push(_n(e)+"="+_n(t))})))})),r=o.join("&")}if(r){var s=t.indexOf("#");-1!==s&&(t=t.slice(0,s)),t+=(-1===t.indexOf("?")?"?":"&")+r}return t};function Tn(){this.handlers=[]}Tn.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},Tn.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},Tn.prototype.forEach=function(t){xn.forEach(this.handlers,(function(e){null!==e&&t(e)}))};var $n=Tn,Sn=function(t,e,n){return xn.forEach(n,(function(n){t=n(t,e)})),t},An=function(t){return!(!t||!t.__CANCEL__)},Bn=function(t,e){xn.forEach(t,(function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])}))},On=function(t,e,n,r,o){return function(t,e,n,r,o){return t.config=e,n&&(t.code=n),t.request=r,t.response=o,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}(new Error(t),e,n,r,o)},Nn=xn.isStandardBrowserEnv()?{write:function(t,e,n,r,o,s){var i=[];i.push(t+"="+encodeURIComponent(e)),xn.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),xn.isString(r)&&i.push("path="+r),xn.isString(o)&&i.push("domain="+o),!0===s&&i.push("secure"),document.cookie=i.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},Rn=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],jn=xn.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=r(window.location.href),function(e){var n=xn.isString(e)?r(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0},Pn=function(t){return new Promise((function(e,n){var r=t.data,o=t.headers;xn.isFormData(r)&&delete o["Content-Type"];var s=new XMLHttpRequest;if(t.auth){var i=t.auth.username||"",a=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";o.Authorization="Basic "+btoa(i+":"+a)}var c,u,h=(c=t.baseURL,u=t.url,c&&!/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(u)?function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}(c,u):u);if(s.open(t.method.toUpperCase(),En(h,t.params,t.paramsSerializer),!0),s.timeout=t.timeout,s.onreadystatechange=function(){if(s&&4===s.readyState&&(0!==s.status||s.responseURL&&0===s.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in s?function(t){var e,n,r,o={};return t?(xn.forEach(t.split("\n"),(function(t){if(r=t.indexOf(":"),e=xn.trim(t.substr(0,r)).toLowerCase(),n=xn.trim(t.substr(r+1)),e){if(o[e]&&Rn.indexOf(e)>=0)return;o[e]="set-cookie"===e?(o[e]?o[e]:[]).concat([n]):o[e]?o[e]+", "+n:n}})),o):o}(s.getAllResponseHeaders()):null,o={data:t.responseType&&"text"!==t.responseType?s.response:s.responseText,status:s.status,statusText:s.statusText,headers:r,config:t,request:s};!function(t,e,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?e(On("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}(e,n,o),s=null}},s.onabort=function(){s&&(n(On("Request aborted",t,"ECONNABORTED",s)),s=null)},s.onerror=function(){n(On("Network Error",t,null,s)),s=null},s.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(On(e,t,"ECONNABORTED",s)),s=null},xn.isStandardBrowserEnv()){var l=(t.withCredentials||jn(h))&&t.xsrfCookieName?Nn.read(t.xsrfCookieName):void 0;l&&(o[t.xsrfHeaderName]=l)}if("setRequestHeader"in s&&xn.forEach(o,(function(t,e){void 0===r&&"content-type"===e.toLowerCase()?delete o[e]:s.setRequestHeader(e,t)})),xn.isUndefined(t.withCredentials)||(s.withCredentials=!!t.withCredentials),t.responseType)try{s.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&s.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&s.upload&&s.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){s&&(s.abort(),n(t),s=null)})),r||(r=null),s.send(r)}))},Ln={"Content-Type":"application/x-www-form-urlencoded"};function Fn(t,e){!xn.isUndefined(t)&&xn.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var Mn,In={adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(Mn=Pn),Mn),transformRequest:[function(t,e){return Bn(e,"Accept"),Bn(e,"Content-Type"),xn.isFormData(t)||xn.isArrayBuffer(t)||xn.isBuffer(t)||xn.isStream(t)||xn.isFile(t)||xn.isBlob(t)?t:xn.isArrayBufferView(t)?t.buffer:xn.isURLSearchParams(t)?(Fn(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):xn.isObject(t)?(Fn(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300}};In.headers={common:{Accept:"application/json, text/plain, */*"}},xn.forEach(["delete","get","head"],(function(t){In.headers[t]={}})),xn.forEach(["post","put","patch"],(function(t){In.headers[t]=xn.merge(Ln)}));var qn=In;function Dn(t){t.cancelToken&&t.cancelToken.throwIfRequested()}var Un=function(t){return Dn(t),t.headers=t.headers||{},t.data=Sn(t.data,t.headers,t.transformRequest),t.headers=xn.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),xn.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||qn.adapter)(t).then((function(e){return Dn(t),e.data=Sn(e.data,e.headers,t.transformResponse),e}),(function(e){return An(e)||(Dn(t),e&&e.response&&(e.response.data=Sn(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))},Vn=function(t,e){e=e||{};var n={},r=["url","method","data"],o=["headers","auth","proxy","params"],s=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],i=["validateStatus"];function a(t,e){return xn.isPlainObject(t)&&xn.isPlainObject(e)?xn.merge(t,e):xn.isPlainObject(e)?xn.merge({},e):xn.isArray(e)?e.slice():e}function c(r){xn.isUndefined(e[r])?xn.isUndefined(t[r])||(n[r]=a(void 0,t[r])):n[r]=a(t[r],e[r])}xn.forEach(r,(function(t){xn.isUndefined(e[t])||(n[t]=a(void 0,e[t]))})),xn.forEach(o,c),xn.forEach(s,(function(r){xn.isUndefined(e[r])?xn.isUndefined(t[r])||(n[r]=a(void 0,t[r])):n[r]=a(void 0,e[r])})),xn.forEach(i,(function(r){r in e?n[r]=a(t[r],e[r]):r in t&&(n[r]=a(void 0,t[r]))}));var u=r.concat(o).concat(s).concat(i),h=Object.keys(t).concat(Object.keys(e)).filter((function(t){return-1===u.indexOf(t)}));return xn.forEach(h,c),n};function Hn(t){this.defaults=t,this.interceptors={request:new $n,response:new $n}}Hn.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=Vn(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[Un,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)n=n.then(e.shift(),e.shift());return n},Hn.prototype.getUri=function(t){return t=Vn(this.defaults,t),En(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},xn.forEach(["delete","get","head","options"],(function(t){Hn.prototype[t]=function(e,n){return this.request(Vn(n||{},{method:t,url:e,data:(n||{}).data}))}})),xn.forEach(["post","put","patch"],(function(t){Hn.prototype[t]=function(e,n,r){return this.request(Vn(r||{},{method:t,url:e,data:n}))}}));var zn=Hn;function Xn(t){this.message=t}Xn.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},Xn.prototype.__CANCEL__=!0;var Kn=Xn;function Yn(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;t((function(t){n.reason||(n.reason=new Kn(t),e(n.reason))}))}Yn.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},Yn.source=function(){var t;return{token:new Yn((function(e){t=e})),cancel:t}};var Wn=Yn;function Jn(t){var e=new zn(t),n=mn(zn.prototype.request,e);return xn.extend(n,zn.prototype,e),xn.extend(n,e),n}var Gn=Jn(qn);Gn.Axios=zn,Gn.create=function(t){return Jn(Vn(Gn.defaults,t))},Gn.Cancel=Kn,Gn.CancelToken=Wn,Gn.isCancel=An,Gn.all=function(t){return Promise.all(t)},Gn.spread=function(t){return function(e){return t.apply(null,e)}},Gn.isAxiosError=function(t){return"object"==typeof t&&!0===t.isAxiosError};var Zn=Gn,Qn=Gn;Zn.default=Qn;var tr=Zn;var er={get:function(t){return tr.get(t)}};const nr="perkd-membership:open",rr="perkd-membership:close",or="perkd-membership:toggle";function sr(e){let n,r;return n=new pt({props:{amountToNextTier:lr,nextTier:pr}}),{c(){H(n.$$.fragment)},m(t,e){z(n,t,e),r=!0},p:t,i(t){r||(D(n.$$.fragment,t),r=!0)},o(t){U(n.$$.fragment,t),r=!1},d(t){X(n,t)}}}function ir(e){let n,r;return n=new ut({}),{c(){H(n.$$.fragment)},m(t,e){z(n,t,e),r=!0},p:t,i(t){r||(D(n.$$.fragment,t),r=!0)},o(t){U(n.$$.fragment,t),r=!1},d(t){X(n,t)}}}function ar(t){let e,n,r,s;const i=[ir,sr],a=[];function c(t,e){return t[0]?1:0}return e=c(t),n=a[e]=i[e](t),{c(){n.c(),r=m("")},m(t,n){a[e].m(t,n),l(t,r,n),s=!0},p(t,s){let u=e;e=c(t),e===u?a[e].p(t,s):(q={r:0,c:[],p:q},U(a[u],1,1,(()=>{a[u]=null})),q.r||o(q.c),q=q.p,n=a[e],n?n.p(t,s):(n=a[e]=i[e](t),n.c()),D(n,1),n.m(r.parentNode,r))},i(t){s||(D(n),s=!0)},o(t){U(n),s=!1},d(t){a[e].d(t),t&&p(r)}}}function cr(t){let e,n,r,o,s,i,a,c,u,f,m,y,v,w,C,k,_,E,T,$;return e=new cn({}),y=new Z({props:{show:t[1]}}),w=new at({props:{type:t[2],$$slots:{default:[ar]},$$scope:{ctx:t}}}),w.$on("dismiss",t[6]),_=new fn({props:{isToggled:hr,progress:t[4]}}),_.$on("toggle",dr),T=new sn({}),T.$on("perkd::hooks-sync",t[7]),{c(){H(e.$$.fragment),n=g(),r=d("div"),o=d("div"),s=d("iframe"),c=g(),u=d("div"),f=d("div"),m=d("div"),H(y.$$.fragment),v=g(),H(w.$$.fragment),k=g(),H(_.$$.fragment),E=g(),H(T.$$.fragment),b(s,"title","Perkd Membership Program"),b(s,"id","perkd-membership-widget-frame"),s.src!==(i="https://localhost:8085/")&&b(s,"src","https://localhost:8085/"),b(s,"frameborder","0"),b(s,"scrolling","no"),b(s,"style",a=t[5]+t[3]),b(s,"sandbox","allow-same-origin allow-scripts allow-forms allow-popups"),b(s,"class","svelte-1jktka4"),b(o,"class","perkd-membership-launcher-popup svelte-1jktka4"),b(m,"class",C="widget__notification "+(t[1]?"visible":"hidden")),b(f,"class","flex flex-col items-end -mt-4"),x(f,"width","400px"),b(u,"id","perkd-membership-widget-launcher"),b(r,"aria-live","polite"),x(r,"overflow","hidden"),x(r,"position","fixed"),x(r,"bottom","0"),x(r,"right","0")},m(t,i){z(e,t,i),l(t,n,i),l(t,r,i),h(r,o),h(o,s),h(r,c),h(r,u),h(u,f),h(f,m),z(y,m,null),h(m,v),z(w,m,null),h(f,k),z(_,f,null),h(f,E),z(T,f,null),$=!0},p(t,[e]){(!$||40&e&&a!==(a=t[5]+t[3]))&&b(s,"style",a);const n={};2&e&&(n.show=t[1]),y.$set(n);const r={};4&e&&(r.type=t[2]),16385&e&&(r.$$scope={dirty:e,ctx:t}),w.$set(r),(!$||2&e&&C!==(C="widget__notification "+(t[1]?"visible":"hidden")))&&b(m,"class",C);const o={};16&e&&(o.progress=t[4]),_.$set(o)},i(t){$||(D(e.$$.fragment,t),D(y.$$.fragment,t),D(w.$$.fragment,t),D(_.$$.fragment,t),D(T.$$.fragment,t),$=!0)},o(t){U(e.$$.fragment,t),U(y.$$.fragment,t),U(w.$$.fragment,t),U(_.$$.fragment,t),U(T.$$.fragment,t),$=!1},d(t){X(e,t),t&&p(n),t&&p(r),X(y),X(w),X(_),X(T)}}}let ur="5185335689423",hr=!1,lr=2e3,pr="Gold Memberhip";function dr(){}function fr(t,e,n){let r;var o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,s){function i(t){try{c(r.next(t))}catch(t){s(t)}}function a(t){try{c(r.throw(t))}catch(t){s(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,a)}c((r=r.apply(t,e||[])).next())}))};let s=!1,i=!0,a=null,c="min-height: 370px",u=10;const h="min-height: 320px";var l;l=()=>o(void 0,void 0,void 0,(function*(){if(console.log("[ON MOUNT] Rewards Widget Toggler sd"),er.get("https://60e6fb1315387c00173e49d7.mockapi.io/user").then((t=>{const{data:e}=t;e&&e.length?function(t){var e,r;const o=t.find((t=>{var e,n;return(null===(n=null===(e=t.subscriptions[0])||void 0===e?void 0:e.membership)||void 0===n?void 0:n.customerId)===ur}));(null==o?void 0:o.subscriptions)?(null===(r=null===(e=null==o?void 0:o.subscriptions[0])||void 0===e?void 0:e.membership)||void 0===r?void 0:r.progress)&&(n(4,u=o.subscriptions[0].membership.progress),n(1,i=!0)):console.log("user not found")}(e):console.log("user not found")})),window.__perkd__init__&&window.__perkd__init__.isLoggedIn)return n(0,s=window.__perkd__init__.isLoggedIn||!1),void console.info("[WIDGET] User is logged in ",window.__perkd__init__.isLoggedIn);document.getElementById("perkd-membership-widget-frame")})),T().$$.on_mount.push(l),function(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on"+e,n)}(window,"message",(function(t){if(!t.data.type)return;const{type:e}=t.data;switch(e){case nr:console.log("[EVENT RECEIVED] perkd-membership:open");break;case rr:console.log("[EVENT RECEIVED] perkd-membership:close");break;case or:console.log("[EVENT RECEIVED] perkd-membership:toggle");break;default:return null}}));return t.$$.update=()=>{1&t.$$.dirty&&(s?(n(3,c=h),n(1,i=!0),n(2,a="progress")):(n(3,c=h),n(1,i=!0),n(2,a="join")))},n(5,r="transform: translateY(4px); opacity: 0;  min-height: 10px; pointer-events: none;"),[s,i,a,c,u,"transform: translateY(4px); opacity: 0;  min-height: 10px; pointer-events: none;",()=>n(1,i=!1),t=>{n(4,u=100===u?10:u+25),n(1,i=!0)}]}const mr=document.getElementById("perkd-membership-widget-launcher-frame"),gr=mr?mr.contentWindow.document.getElementById("perkd-membership-widget-launcher"):document.getElementById("perkd-membership-app");return new class extends W{constructor(t){super(),Y(this,t,fr,cr,i,{})}}({target:gr})}();
//# sourceMappingURL=perkd-membership-widget.min.js.map
